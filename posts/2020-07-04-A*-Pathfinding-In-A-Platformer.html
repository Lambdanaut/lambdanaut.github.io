<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="icon" type="image/png" href="../images/favicon.png">
		<title>Lambdanaut - AI Pathfinding In a Platformer</title>
		<link rel="stylesheet" href="../css/reset.css" media="all">
		<link rel="stylesheet" href="../css/grid.css" media="all">
		<link rel="stylesheet" href="../css/main.css" media="all">
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-31412504-2"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'UA-31412504-2');
		</script>
		<script>
			// Determine a random character to display in the footer scene
			const _possibleUrls = [
				'',
				'<a href="https://lambdanaut.itch.io/overworld" target="_blank"><img src="/images/player-standing.gif" alt="playa1" style="float:right; margin-top: 119px;"/></a>',
				'<a href="https://lambdanaut.itch.io/overworld" target="_blank"><img src="/images/gma-at-desk.gif" alt="gma selling grimee" style="float:right; margin-top: 117px;"/></a>',
				'<a href="https://lambdanaut.itch.io/picowars" target="_blank"><img src="/images/infantry-in-grass.gif" alt="infantry in tall grass" style="float:right; margin-top: 127px;"/></a>',
				'<a href="https://lambdanaut.itch.io/bbys" target="_blank"><img src="/images/bbys-footer.gif" alt="bbys in the tall grass" style="float:right; margin-top: 135px;"/></a>',
				'<a href="https://lambdanaut.itch.io/paradox" target="_blank"><img src="/images/footer-paradox.gif" alt="Charnel from the game Paradox standing at a terminal" style="float:right; margin-top: 113px;"/></a>',
			];
			const _randomIndex = Math.floor(Math.random() * _possibleUrls.length);
			const randomFooterSceneImage = _possibleUrls[_randomIndex];
		</script>
	</head>
	<body>
		<header>
			<div id="logo" class="rainbow-text-shadow">
				<a href="../index.html">L&Lambda;MBDANAUT</a>
			</div>
		</header>
		<div id="content-wrapper">
			<div class="content">
				<h1 class="post-title rainbow-text-shadow">AI Pathfinding In a Platformer</h1>
<div>
<span class="post-date-info">Posted <u>July  4, 2020</u></span>

<span class="tags">Tags: <a title="All pages tagged 'gamedev'." href="../tags/gamedev.html" class="tag">gamedev</a> <a title="All pages tagged 'overworld'." href="../tags/overworld.html" class="tag">overworld</a></span>

</div>
<div class="writing">
	<p>In order to learn the <a href="https://godotengine.org/">Godot Game Engine</a> I decided to challenge myself by implementing the <a href="https://en.wikipedia.org/wiki/A*_search_algorithm">A* Pathfinding Algorithm</a> with a caveat: instead of pathfinding on a top-down grid, the world would be a 2D platformer with jumping, gravity, and collisions.</p>
<p>The result is <em>okay</em>. It’s not the most scalable and if I pathfind on 10 characters simultaneously there is a noticable flicker in frame-rate. That could be fixed up by just running the pathfinding in its own thread, but I’m content with treating this project as a neat proof-of-concept learning experience and wrapping it up here.</p>
<p>An interesting aspect to the A* pathfinding here was that by introducing jumping, we were effectively pathfinding in a 3D world rather than a 2D world. By this I mean that there were three dimensions that needed by kept track of: The <code>X</code>, <code>Y</code>, and <code>J</code>, coordinates, where <code>J</code> is nth jump that was searched through. Along with the extra dimension of jump counts that had to be recorded, we also had to record how high we were in any one jump, increasing the jump value until we had reached the jump height limit.</p>
<p>It’s a deciptively difficult problem to get perfect, and it’s why I’m wrapping this up here rather than turning it into a full-blown game. There are too many edge cases where the little dudes can’t reach the path they’ve found. They’ll miss the jump by a couple pixels, or knock their heads on a block above, or who knows what else. The pathfinding itself is pretty good, but getting the little guys to follow the path without falling is <strong>tuff</strong>.</p>
<h2 id="play-in-your-browser">Play in your browser</h2>
<p>You can play the demo right here in your browser.</p>
<p>Click anywhere in the world and the little dudes will find a way to get there:</p>
<p><iframe src="../games/side-track/side-track.html" width="720" height="360"></iframe></p>
</div>

			</div>

			<div class="footer-scene">
			    <img src="../images/house-animated.gif" alt="home sweet hom	e" style="float:right; vertical-align: top; margin-top: 1px;" />
			    <script>document.write(randomFooterSceneImage);</script>
			    <noscript><img src="../images/player-standing.gif" alt="playa1" style="float:right; margin-top: 119px;" /></noscript>
			    <img src="../images/overworld-foliage.png" class="hide-on-small-screen" alt="foliage" style="float:right; vertical-align: top; margin-top: 125px;" />
			    <img src="../images/overworld-foliage-2.png" class="hide-on-small-mobile" alt="foliage" style="float:right; vertical-align: top; margin-top: 125px;" />
			</div>
			
			<footer class="section group">
				&copy; <script>document.write( new Date().getFullYear() );</script> Lambdanaut
				<p>Blog made with ♥ in Haskell using <a href="https://jaspervdj.be/hakyll/">Hakyll</a></p>
				<ul>
					<li><a href="../atom.xml">Feed</a></li>
					<li><a href="https://github.com/lambdanaut/Lambdanaut">Source Code</a></li>
					<li><a href="../meta/contact.html">Contact</a></li>
					<li><a href="../meta/projects.html">My Projects</a></li>
					<li><a href="../meta/">About Me</a></li>
					<li><a href="../tags.html">Post Tags</a></li>
				</ul>
			</footer>
		</div>
	</body>
	<script async src="//static.getclicky.com/101377351.js"></script>
	<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/101377351ns.gif" /></p></noscript>
</html>
